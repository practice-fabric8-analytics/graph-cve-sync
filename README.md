# graph-cve-sync

OpenShift cron job which keeps fabric8-analytics graph database up-to-date.


## Configuration

Following environment variables can be used to control behaviour of the cron job:

`SYNC_MODE` - can be "full" or "diff". The former forces full sync while latter
synchronizes only the changes since last successful run. Default is "diff".

`BAYESIAN_DATA_IMPORTER_SERVICE_HOST` - data-importer service hostname

`BAYESIAN_DATA_IMPORTER_SERVICE_PORT` - data-importer service port

`DRY_RUN` - don't write anything to graph

## Snyk Vulnerability Data

The cron job is now extended to populate the Snyk vulnerabilities into our graph.
For determining the affected versions, we use a combination of python's in built libraries
and our own custom "fabric8-analytics-version-comparator". This is needed because unlike
npm (node), which follows the semantic versions, maven and python do not.